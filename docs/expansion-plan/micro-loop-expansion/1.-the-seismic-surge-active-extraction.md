# 1. The "Seismic Surge" (Active Extraction)

## The "Seismic Surge" (Active Extraction)

Seismic Surge turns the Field’s cooldown into a timing beat.

It rewards attention without changing the core loop in [2: The Mechanics](../../game-overview/2-the-mechanics.md).

### 1.1 Design goals

* Make manual \[EXTRACT] feel skillful, not spammy.
* Add a “micro-win” that does not gate progress.
* Increase Crate rate slightly for active players.
* Scale cleanly with [Excavation](../../game-overview/5-rpg-skilling-system.md) level.

Non-goals:

* Do not add a new currency.
* Do not create a “mandatory” APM tax.
* Do not affect the Lab’s risk model.

### 1.2 Where it lives (UI + state)

Seismic Surge is part of \[01] THE FIELD.

It only runs on **manual** \[EXTRACT] actions.

Automation ticks remain passive.

Required UI elements:

* Existing extraction progress bar.
* A moving “impact indicator” that sweeps the bar once.
* One highlighted “Sweet Spot” region on the bar.
* A single input prompt: click anywhere to “lock” the hit.

### 1.3 Player flow (single extraction)

1. Player clicks \[EXTRACT].
2. The extraction bar begins filling for the normal action duration.
3. The impact indicator sweeps across the bar once.
4. The player can click once to “strike”.
5. The strike resolves into one of three grades.
6. The extraction RNG resolves as normal, with bonuses if earned.

The strike is optional.

If the player never clicks, the action still completes.

### 1.4 Strike grading (rules)

Seismic Surge evaluates the click time against the Sweet Spot.

Grades:

* **Miss**: click outside the Sweet Spot.
* **Hit**: click inside the Sweet Spot.
* **Perfect Survey**: click inside the “Perfect core” of the Sweet Spot.

Constraints:

* Only the **first** click during the action counts.
* Clicking does not cancel the action.
* If the UI lags, grade by server-authoritative timestamps.

### 1.5 Rewards and effects

#### Base extraction RNG stays intact

The game still resolves exactly one outcome per extraction:

* Scrap
* Crate
* Anomaly

Seismic Surge only modifies **the Crate chance** for that action.

It does not change Anomaly odds.

It does not change Scrap amount.

#### Crate chance bonus (flat, per-action)

Let `p_crate` be the player’s current Crate drop chance for this action.

This includes tools, sets, and skill modifiers.

Apply Seismic Surge as:

* Miss: `+0.0%`
* Hit: `+2.0%` flat
* Perfect Survey: `+5.0%` flat

Clamp after bonuses:

* `p_crate_final = min(p_crate + bonus, 95%)`

#### Excavation XP

Award standard Excavation XP for completing \[EXTRACT].

Then add a small bonus:

* Miss: `+0%` bonus XP
* Hit: `+10%` bonus XP
* Perfect Survey: `+25%` bonus XP

This keeps Seismic Surge as “nice to do”, not “must do”.

### 1.6 Progression integration (Excavation + tools)

#### Sweet Spot size scales with Excavation

Sweet Spot width should increase with Excavation level.

Use a simple curve that feels OSRS-like:

* Level 1: narrow and learnable.
* Level 30: comfortable for most players.
* Level 70: consistent to hit.
* Level 99: generous, but not automatic.

Recommended tuning (as % of bar travel):

* Sweet Spot width: `6% + (Excavation_Level * 0.14%)`
  * Level 1 ≈ `6.1%`
  * Level 50 ≈ `13.0%`
  * Level 99 ≈ `19.9%`
* Perfect core width: `30%` of Sweet Spot width.

#### Tool interaction

Tools already change action duration.

Seismic Surge must remain fair at any speed.

Rule:

* Sweet Spot is measured in **normalized progress** (0–100%), not milliseconds.
* Faster tools make the timing window shorter in real time.
* Higher Excavation offsets this via larger Sweet Spots.

### 1.7 Level 99 mastery hook (“The Endless Vein”)

At Excavation Level 99, add a second Sweet Spot.

This is a mastery flex.

It should feel like “double-tap perfection,” not a second chore.

Rules:

* Two Sweet Spots spawn at different positions.
* The player still gets only **one** strike click per action by default.
* Mastery unlocks **one extra strike** per action.
  * Strike 1 resolves Sweet Spot A.
  * Strike 2 resolves Sweet Spot B.

Reward stacking:

* If either strike is Perfect Survey: apply the Perfect bonus (`+5%`).
* If both strikes are Perfect Survey: apply `+8%` total bonus.
  * This keeps the ceiling controlled.

Interaction with “Double Loot”:

* “The Endless Vein” double-loot roll stays a separate step.
* If the action drops a Crate and double-loot triggers:
  * Add a second Crate to the tray, same stage rules as normal.

### 1.8 UX requirements (feedback beats)

The player must instantly understand “I did it right”.

Minimum feedback:

* Sweet Spot highlight on bar.
* On strike:
  * Miss: brief static flicker + dull thud.
  * Hit: crisp click + small glow pulse.
  * Perfect: loud mechanical _clink_ + “PERFECT SURVEY” stamp text.
* The action log records the grade.

### 1.9 Accessibility + anti-frustration

* Provide a “Reduced Motion” mode.
  * The indicator becomes a simple moving line, no shake.
* Support keyboard input (spacebar) as the strike.
* Add an option to disable the mini-game.
  * Disabling only removes the bonus.
  * It must not block progression.

### 1.10 Edge cases and constraints

* If the tray is full, \[EXTRACT] is already disabled.
  * Seismic Surge never starts.
* If the player changes tabs mid-action:
  * Resolve the action.
  * Grade the strike as “no attempt”.
* If the client drops frames:
  * Grade using server time.
  * Never “eat” an action due to UI desync.

### 1.11 Telemetry (so we can tune it)

Track per-player, per-tool:

* Attempt rate (actions with a strike / total manual extracts).
* Hit rate and Perfect rate by Excavation level band.
* Net change in crates/hour for active players.
* Drop-off points (players who disable the feature).

Use these metrics to tune:

* Sweet Spot width curve.
* Perfect core width.
* Bonus values (`+2%`, `+5%`, `+8%`).
